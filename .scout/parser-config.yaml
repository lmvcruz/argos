# Scout Parser Configuration
# Maps GitHub Actions job names to Anvil parsers for CI log analysis

job_patterns:
  # Anvil Tests Workflow
  - pattern: "^test$"
    parser: "PytestParser"
    description: "Runs pytest tests (all platforms/versions)"
    enabled: true

  - pattern: "^coverage$"
    parser: "PytestParser"
    description: "Runs pytest with coverage (Ubuntu 3.11 only)"
    enabled: true

  - pattern: "^quality$"
    parser: "LintParser"
    description: "Runs pre-commit checks (flake8, black, isort combined)"
    enabled: true

  - pattern: "^lint$"
    parsers:
      - "Flake8Parser"
      - "BlackParser"
      - "IsortParser"
    description: "Runs individual linters separately"
    enabled: true

  # Forge Tests Workflow
  - pattern: "^Forge Tests$"
    parser: "PytestParser"
    description: "Forge test execution"
    enabled: true

  # Scout Tests Workflow
  - pattern: "^Scout Tests$"
    parser: "PytestParser"
    description: "Scout test execution"
    enabled: true

  # Verdict Tests Workflow
  - pattern: "^Verdict Tests$"
    parser: "PytestParser"
    description: "Verdict test execution"
    enabled: true

# Storage configuration
storage:
  ci_logs_dir: ".scout/ci-logs"
  # Format: {workflow_id}/{job_id}/{run_id}.log
  # Example: "123456/test/789012.log"

# GitHub Actions configuration
github:
  # Token is read from environment variable: GITHUB_TOKEN
  # Or can be set here (NOT RECOMMENDED for public repos)
  # token: "github_pat_..."

  # Timeout for API calls in seconds
  api_timeout: 30

  # Number of retries for failed requests
  api_retries: 3

# Parsing configuration
parsing:
  # Skip parsing if already in database
  skip_if_cached: true

  # Auto-detect parser if pattern doesn't match
  auto_detect: true

  # Default parser for unknown job types
  default_parser: "LintParser"

# Logging configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
